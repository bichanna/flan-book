<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>The Feo Book</title>
        <meta name="robots" content="noindex" />


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="language_tour.html"><strong aria-hidden="true">1.</strong> Language Tour</a></li><li class="chapter-item expanded "><a href="comments.html"><strong aria-hidden="true">2.</strong> Comments</a></li><li class="chapter-item expanded "><a href="strings.html"><strong aria-hidden="true">3.</strong> Strings & Atoms</a></li><li class="chapter-item expanded "><a href="booleans.html"><strong aria-hidden="true">4.</strong> Booleans</a></li><li class="chapter-item expanded "><a href="ints_floats.html"><strong aria-hidden="true">5.</strong> Integers & Floats</a></li><li class="chapter-item expanded "><a href="empty.html"><strong aria-hidden="true">6.</strong> Null & Empty</a></li><li class="chapter-item expanded "><a href="lists.html"><strong aria-hidden="true">7.</strong> Lists</a></li><li class="chapter-item expanded "><a href="objects.html"><strong aria-hidden="true">8.</strong> Objects</a></li><li class="chapter-item expanded "><a href="assignment.html"><strong aria-hidden="true">9.</strong> Assignment</a></li><li class="chapter-item expanded "><a href="functions.html"><strong aria-hidden="true">10.</strong> Functions</a></li><li class="chapter-item expanded "><a href="match.html"><strong aria-hidden="true">11.</strong> Match Expression</a></li><li class="chapter-item expanded "><a href="modules.html"><strong aria-hidden="true">12.</strong> Modules</a></li><li class="chapter-item expanded "><a href="unsafe.html"><strong aria-hidden="true">13.</strong> Exceptions</a></li><li class="chapter-item expanded "><a href="test.html"><strong aria-hidden="true">14.</strong> Testing</a></li><li class="chapter-item expanded "><a href="std_library.html"><strong aria-hidden="true">15.</strong> Standard Library</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="library/builtins.html"><strong aria-hidden="true">15.1.</strong> Built-in Functions</a></li><li class="chapter-item expanded "><a href="library/std.html"><strong aria-hidden="true">15.2.</strong> std</a></li><li class="chapter-item expanded "><a href="library/string.html"><strong aria-hidden="true">15.3.</strong> strings</a></li><li class="chapter-item expanded "><a href="library/math.html"><strong aria-hidden="true">15.4.</strong> math</a></li><li class="chapter-item expanded "><a href="library/fmt.html"><strong aria-hidden="true">15.5.</strong> fmt</a></li><li class="chapter-item expanded "><a href="library/fs.html"><strong aria-hidden="true">15.6.</strong> fs</a></li><li class="chapter-item expanded "><a href="library/json.html"><strong aria-hidden="true">15.7.</strong> json</a></li><li class="chapter-item expanded "><a href="library/random.html"><strong aria-hidden="true">15.8.</strong> random</a></li><li class="chapter-item expanded "><a href="library/testing.html"><strong aria-hidden="true">15.9.</strong> testing</a></li></ol></li><li class="chapter-item expanded "><a href="experimental/experimental.html"><strong aria-hidden="true">16.</strong> Experimental Features</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="experimental/try.html"><strong aria-hidden="true">16.1.</strong> try Expression</a></li><li class="chapter-item expanded "><a href="experimental/references.html"><strong aria-hidden="true">16.2.</strong> References</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">The Feo Book</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/bichanna/feo" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="language-tour"><a class="header" href="#language-tour">Language Tour</a></h1>
<p>In this book, we explore the fundamentals of the Feo language, namely its syntax, core data structures, and flow control features. If you have some prior programming experience, this will hopefully be enough to get you started with Feo.</p>
<h2 id="overly-simplifed-overview"><a class="header" href="#overly-simplifed-overview">Overly Simplifed Overview</a></h2>
<p>In Feo, everything is an expression. That means everything evaluates to some value, like <code>2 * 3</code>, which is <code>6</code>.</p>
<h3 id="types"><a class="header" href="#types">Types</a></h3>
<p>Feo has 7 primitive types and 3 complex ones:</p>
<pre><code class="language-js">null         // Null
_            // &quot;Empty&quot; value, equal to everything
1, 2, 4      // Integers
3.45         // Floats
true, false  // Booleans
&quot;Hello!&quot;     // Strings
:ok          // Atoms

[:error, 1, &quot;blah&quot;, false] // Lists
{age: 16, name: &quot;Nobu&quot;}    // Objects
func (x, y) x + y          // Functions
</code></pre>
<h3 id="assignment"><a class="header" href="#assignment">Assignment</a></h3>
<p>You can bind values on the right side to names on the left, potentially by destructuring an object or list by <code>:=</code>.</p>
<pre><code class="language-js">num := 1
[a, b] := [123, 456] // a is 123, and b is 456

{
    full_name: name, // name is &quot;Nobuharu Shimazu&quot;
    email_address: email, // email is &quot;nobu.bichanna@gmail.com&quot;
} := {
    full_name: &quot;Nobuharu Shimazu&quot;,
    email_address: &quot;nobu.bichanna@gmail.com&quot;
}
</code></pre>
<p>Reassignment operator <code>=</code>:</p>
<pre><code class="language-js">age := 15
age = 16 // age is now 16
</code></pre>
<h3 id="control-flows"><a class="header" href="#control-flows">Control Flows</a></h3>
<p><code>match</code> expression is the only control flow in Feo.</p>
<pre><code class="language-js">name := &quot;Nobu&quot;
match name {
    &quot;Nobu&quot; -&gt; println(&quot;Cool name!&quot;),
    &quot;Sol&quot; -&gt; println(&quot;Nice name.&quot;),
    &quot;Damian&quot; -&gt; println(&quot;Eh, nice, I guess?&quot;),
    _ -&gt; println(&quot;Hello, &quot; + name),
}
</code></pre>
<p>But there is also a short-hand <code>match</code>, which is known as the ternary operator.</p>
<pre><code class="language-js">damian_stinks := false
command := damian_stinks ? &quot;go take a shower&quot; : &quot;go take a nap&quot;

// de-sugars to this:
command = match damian_stinks {
    true -&gt; &quot;go take a shower&quot;,
    _ -&gt; &quot;go take a nap&quot;,
}
</code></pre>
<h3 id="functions"><a class="header" href="#functions">Functions</a></h3>
<p>You can define a function like so:</p>
<pre><code class="language-js">func add(x, y) x + y
// same as
add := func(x, y) x + y
</code></pre>
<h3 id="pipe-operator"><a class="header" href="#pipe-operator">Pipe Operator</a></h3>
<p>It takes a value on the left and makes it the first argument to a function call on the right:</p>
<pre><code class="language-js">func add(x, y) x + y
10 |&gt; add(15) |&gt; add(12) // 37
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="comments"><a class="header" href="#comments">Comments</a></h1>
<p>Feo allows you to write comments in your code, just like any other languages.</p>
<p>In Feo, comments must start with two slashes and continue until the end of the line. Here's an example of a comment:</p>
<pre><code class="language-js">// Hello, world!
</code></pre>
<p>Comments can be also placed at the end of lines containing code:</p>
<pre><code class="language-js">func do_something(a, b) {
    a(b) // doing something!
}
</code></pre>
<p>Comments may also be indented:</p>
<pre><code class="language-js">func multiply(x, y) {
    // multiplying x by y
    x * y
}
</code></pre>
<h2 id="multi-line-comment"><a class="header" href="#multi-line-comment">Multi-line Comment</a></h2>
<p>For comments that extend beyond a single line, you might want to use multi-line comments that start with <code>/*</code> and end with <code>*/</code>:</p>
<pre><code class="language-js">/*
    Hello, world! This is a very very very very very very very
    long comment. I have a lot to say, so much that it will take 
    multiple lines of comments.
*/
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="strings-and-atoms"><a class="header" href="#strings-and-atoms">Strings And Atoms</a></h1>
<h2 id="strings"><a class="header" href="#strings">Strings</a></h2>
<p>In Feo, strings can be written as text surrounded by double quotes.</p>
<pre><code class="language-js">&quot;This is a string&quot;
</code></pre>
<p>Also, they can span multiple lines.</p>
<pre><code class="language-js">&quot;Multi-line
string!&quot;
</code></pre>
<p>Under the hood, strings are just Rust <code>String</code>s, which are encoded with <a href="https://en.wikipedia.org/wiki/UTF-8">UTF-8</a>, and are able to contain any valid unicode.</p>
<pre><code class="language-js">&quot;üñïüèª„Åì„Çì„Å´„Å°„ÅØFeo üë∫&quot;
</code></pre>
<h3 id="concatenation"><a class="header" href="#concatenation">Concatenation</a></h3>
<p>The addition operator can be used to join strings together, but not atoms:</p>
<pre><code class="language-js">name = &quot;Nobu&quot;
name + &quot;haru&quot; // &quot;Nobuharu&quot;
</code></pre>
<h3 id="escape-sequences"><a class="header" href="#escape-sequences">Escape Sequences</a></h3>
<p>Feo supports common string escape sequences. Here's all of them:</p>
<div class="table-wrapper"><table><thead><tr><th>Sequences</th><th>Result</th></tr></thead><tbody>
<tr><td>\n</td><td>Newline</td></tr>
<tr><td>\r</td><td>Carriage Return</td></tr>
<tr><td>\t</td><td>Tab</td></tr>
<tr><td>\&quot;</td><td>Double Quote</td></tr>
<tr><td>\\</td><td>Backslash</td></tr>
<tr><td>\0</td><td>Null Terminator</td></tr>
</tbody></table>
</div>
<p>For example, to include double quote (<code>&quot;</code>) character in a string literal, it must be escaped by placing a backslash (<code>\</code>) character before it.</p>
<pre><code class="language-js">&quot;Here's a double quote: \&quot;&quot;
</code></pre>
<p>Another example:</p>
<pre><code class="language-js">// A Windows filepath C:\Users\Nobu
&quot;C:\\Users\\Nobu&quot;
</code></pre>
<h2 id="atoms"><a class="header" href="#atoms">Atoms</a></h2>
<p>For immutable strings, use atoms:</p>
<pre><code class="language-js">:some_atom
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="booleans"><a class="header" href="#booleans">Booleans</a></h1>
<p>A Boolean can be either <code>true</code> or <code>false</code>. Atom values <code>:true</code> and <code>:false</code> are also evaluated as Booleans.</p>
<p>Feo defines a handful of operators that work with Booleans.</p>
<p><code>&amp;&amp;</code> evaluates the right hand side if the left hand side is <code>true</code>.</p>
<p><code>||</code> evaluates the right hand side if the left hand side is <code>false</code>.</p>
<p>You can also use <code>and</code> and <code>or</code> keywords instead of <code>&amp;&amp;</code> and <code>||</code> respectively.</p>
<pre><code class="language-js">false &amp;&amp; false // =&gt; false
false &amp;&amp; true  // =&gt; false
true &amp;&amp; false  // =&gt; false
true &amp;&amp; true   // =&gt; true
false and true // =&gt; false

false || false // =&gt; false
false || true  // =&gt; true
true || false  // =&gt; true
true || true   // =&gt; true
true or false  // =&gt; true
</code></pre>
<p>Feo supports negation of Booleans using either one of the <code>!</code>, <code>not</code>, or <code>-</code> unary operators.</p>
<pre><code class="language-js">!true     // =&gt; false
not false // =&gt; true
-false    // =&gt; true
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="integers-and-floats"><a class="header" href="#integers-and-floats">Integers And Floats</a></h1>
<p>Feo's main number types are Integers and Floats.</p>
<h2 id="integers"><a class="header" href="#integers">Integers</a></h2>
<p>Integers are &quot;whole&quot; numbers. Hexadecimal integers start with <code>0x</code>.</p>
<pre><code class="language-js">15
-83
0xBADC0FFEE // 50159747054
</code></pre>
<p>Feo has several operators that work with Integers.</p>
<pre><code class="language-js">1 + 1 // =&gt; 2
4 - 2 // =&gt; 2
6 / 3 // =&gt; 2
1 * 2 // =&gt; 2
5 % 3 // =&gt; 2

2 &gt; 1  // =&gt; true
2 &lt; 1  // =&gt; false
2 &gt;= 1 // =&gt; true
2 &lt;= 1 // =&gt; false
</code></pre>
<h2 id="floats"><a class="header" href="#floats">Floats</a></h2>
<p>Floats are numbers that have a decimal point.</p>
<pre><code class="language-js">1.0
2.2
-0.44
</code></pre>
<p>The same operators work for Floats as well.</p>
<pre><code class="language-js">1.0 + 1.4 // =&gt; 2.4
5.0 - 1.5 // =&gt; 3.5
5.0 / 2.0 // =&gt; 2.5
3.0 * 3.1 // =&gt; 9.3

2.0 &gt; 1.0  // =&gt; true
2.0 &lt; 1.0  // =&gt; false
2.0 &gt;= 1.0 // =&gt; true
2.0 &lt;= 1.0 // =&gt; false
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="null-and-empty"><a class="header" href="#null-and-empty">Null And Empty</a></h1>
<h2 id="null"><a class="header" href="#null">Null</a></h2>
<p><code>null</code> is just a value that shows that the object is referring to nothing.</p>
<pre><code class="language-js">null == null // =&gt; true
null &lt;= 7.3  // =&gt; false
</code></pre>
<h2 id="empty"><a class="header" href="#empty">Empty</a></h2>
<p><code>_</code> is an &quot;empty&quot; value, which is equal to anything.</p>
<pre><code class="language-js">_ &gt;= 123     // =&gt; true
_ == &quot;hello&quot; // =&gt; true
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="lists"><a class="header" href="#lists">Lists</a></h2>
<p>Lists are ordered collections of values. They're one of the most common data structures in Feo.</p>
<p>Lists are <em>heterogeneous</em>, meaning the elements of a list can be of different types.</p>
<pre><code class="language-js">[:err, &quot;something wrong happened&quot;]
[[&quot;abc&quot;, &quot;hello&quot;], 23, 3.14]
</code></pre>
<p>Under the hood, lists are just Rust <code>Vector</code>s.</p>
<p>A built-in function <a href="./library/builtins.html#appendxs-x"><code>append</code></a> is provided to append a value to a list.</p>
<pre><code class="language-js">names := [&quot;Nobu&quot;, &quot;Damian&quot;, &quot;Thomas&quot;]
names = append(names, &quot;Sol&quot;)

names // [&quot;Nobu&quot;, &quot;Damian&quot;, &quot;Thomas&quot;, &quot;Sol&quot;]
</code></pre>
<p>You can index an element in a list by using <code>[]</code>.</p>
<pre><code class="language-js">ages := [16, 15, 15, 14]
ages[0] // 16
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="objects"><a class="header" href="#objects">Objects</a></h1>
<p>An object is used to store various keyed collections and more complex entities.</p>
<pre><code class="language-js">nobu := {
    name: &quot;Nobu&quot;,
    cool?: true,
    email: &quot;nobu.bichanna@gmail.com&quot;,
}
</code></pre>
<p>Once you have an object, the attributes contained can be accessed using the <code>.something</code> accessor syntax.</p>
<pre><code class="language-js">nobu.cool? // true
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="assignment-1"><a class="header" href="#assignment-1">Assignment</a></h1>
<p>The assignment operator <code>:=</code> binds values on the right side to names on the left, potentially by destructuring an object or list. For example:</p>
<pre><code class="language-js">a : = 1 // a is 1

[b, c] := [4, &quot;string&quot;] // b is 4, and c is &quot;string&quot;

{first_name: name} := {first_name: &quot;Nobuharu&quot;, last_name: &quot;Shimazu&quot;} // name is &quot;Nobuharu&quot;
</code></pre>
<p>The reassignment operator <code>=</code> binds values on the right side to names on the left, but only when those variables already exist.
If the variable doesn't exist in the current scope, the operator ascends up parent scopes until it reaches the global scope to find the last scope where that name was bound.</p>
<pre><code class="language-js">n := 1
m := 2
{
    n = 3
    m := 4
}
n // 3
m // 2
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="functions-1"><a class="header" href="#functions-1">Functions</a></h1>
<h2 id="named-functions"><a class="header" href="#named-functions">Named Functions</a></h2>
<p>Named functions in Feo are defined using the <code>func</code> keyword.</p>
<pre><code class="language-js">func greet(name) {
    println(&quot;Hello, &quot; + name + &quot;!&quot;)
}
</code></pre>
<p>Functions in Feo are first class values and can be assigned to variables, passed to functions, or anything else you might do with any other data type.</p>
<pre><code class="language-js">// This function takes a function as an argument
func twice(f, x) {
    f(f(x))
}

func add_one(x) x + 1

func add_two(x) twice(add_one, x)
</code></pre>
<h3 id="default-arguments"><a class="header" href="#default-arguments">Default Arguments</a></h3>
<p>If a function is not passed a sufficient amout of arguments, it becomes <code>null</code> by default:</p>
<pre><code class="language-js">func some_func(a, b) {}
some_func(:hello) // a = :hello and b = null
</code></pre>
<p>There is <a href="./library/std.html#defaultx-base"><code>default</code></a> function in <a href="./library/std.html"><code>std</code> module</a>.</p>
<pre><code class="language-js">{default: default} := import(&quot;std&quot;)

func some_func(a, b) {
    b = default(b, &quot;Hello&quot;)
}
</code></pre>
<h3 id="rest-parameters"><a class="header" href="#rest-parameters">Rest Parameters</a></h3>
<p>You can add <code>+</code> after parameter name if you are unsure about the number of arguments to pass in the functions.</p>
<pre><code class="language-js">{each: each} := import(&quot;std&quot;)

func sum(nums+) {
    reduce(nums, 0) &lt;| func(accumulator, elem) accumulator + elem
}

sum(1, 4, 5, 3, 6)
</code></pre>
<h2 id="pipe-operator-1"><a class="header" href="#pipe-operator-1">Pipe Operator</a></h2>
<p>Feo provides syntax for passing the result of one function to the arguments of another function, the pipe operator (<code>|&gt;</code>).
This is similar in functionality to the same operator in Elixir or F#.</p>
<p>The pipe operator allows you to chain function calls without using a plethora of parenthesis.</p>
<pre><code class="language-js">names := []
append(append(append(append(names, &quot;Nobu&quot;), &quot;Sol&quot;), &quot;Damian&quot;), &quot;Thomas&quot;)
names // [&quot;Nobu&quot;, &quot;Sol&quot;, &quot;Damian&quot;, &quot;Thomas&quot;]
</code></pre>
<p>This can be expressed more naturally using the pipe operator, eliminating the need to track parenthesis closure.</p>
<pre><code class="language-js">names
|&gt; append(&quot;Nobu&quot;)
|&gt; append(&quot;Sol&quot;)
|&gt; append(&quot;Damian&quot;)
|&gt; append(&quot;Thomas&quot;)
</code></pre>
<p>Each line of this expression applies the function to the result of the previous line.</p>
<h2 id="anonymous-functions"><a class="header" href="#anonymous-functions">Anonymous Functions</a></h2>
<p>Anonymous functions can be defined with a similar syntax:</p>
<pre><code class="language-js">func run() {
    add := func(x, y) x + y

    add(1, 2) // 3
}
</code></pre>
<h2 id="public-functions"><a class="header" href="#public-functions">Public Functions</a></h2>
<p>Functions annotated with <code>public</code> keyword are public functions, meaning they could be exported outside of their own module to be used by other modules.</p>
<pre><code class="language-js">public func public_func(xs+) {}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="match-expression"><a class="header" href="#match-expression">Match Expression</a></h1>
<p>The <code>match</code> expression is the most common kind of flow control in Feo code.
It allows us to say &quot;if the data has this shape then do that&quot;, which we call <em>pattern matching</em>.</p>
<p>Here, we match on an Int and return a specific string for the values 0, 1, and 2.
The final pattern n matches any other value that did not match any of the previous patterns.</p>
<pre><code class="language-js">match some_number {
  0 -&gt; &quot;zero&quot;,
  1 -&gt; &quot;one&quot;,
  2 -&gt; &quot;two&quot;,
  _ -&gt; &quot;some other number&quot;, // This matches anything
}
</code></pre>
<p>Pattern matching on a Boolean value is the Feo alternative to the <code>if else</code> statement found in other languages.</p>
<pre><code class="language-js">match some_bool {
  true -&gt; &quot;It's true.&quot;,
  false -&gt; &quot;It's not true.&quot;,
}
</code></pre>
<p>Feo's case is an expression, meaning it returns a value and can be used anywhere we would use a value.
For example, we can name the value of a case expression with a variable binding.</p>
<pre><code class="language-js">description := match true {
    true -&gt; &quot;blah blah&quot;,
    false -&gt; &quot;halb halb&quot;,
}

description // &quot;blah blah&quot;
</code></pre>
<h2 id="destructuring"><a class="header" href="#destructuring">Destructuring</a></h2>
<p>A <code>match</code> expression can be used to destructure values that contain other values, such as lists and objects.</p>
<pre><code class="language-js">match [number % 3, number % 5] {
    [0, 0] -&gt; &quot;FizzBuzz&quot;,
    [0, _] -&gt; &quot;Fizz&quot;,
    [_, 0] -&gt; &quot;Buzz&quot;,
    [a, b] -&gt; a + b,
}
</code></pre>
<h2 id="ternary-operator"><a class="header" href="#ternary-operator">Ternary Operator</a></h2>
<p>There is also a short-hand match, which is known as the ternary operator.</p>
<pre><code class="language-js">damian_stinks := false
command := damian_stinks ? &quot;go take a shower&quot; : &quot;go take a nap&quot;

// de-sugars to this:
command := match damian_stinks {
    true -&gt; &quot;go take a shower&quot;,
    _ -&gt; &quot;go take a nap&quot;,
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="modules"><a class="header" href="#modules">Modules</a></h1>
<p>In Feo, modules are simply files with the ‚Äú.feo‚Äù extension containing Feo code that can be imported inside another Feo program.
Functions annotated with <code>public</code> keyword are public functions, meaning they could be exported outside of their own module to be used by other modules.</p>
<p>You can import other modules using the built-in <code>import</code> function with relative paths.</p>
<pre><code class="language-js">// src/a_module.feo

// public function func_in_a
public func func_in_a() {
    &quot;Hello from a_module&quot;
}
</code></pre>
<p>Here, we have a function <code>func_in_a</code> in module <code>src/a_module</code>.</p>
<p>From module <code>src/entry</code>, you can import the module <code>src/a_module</code> like this.</p>
<pre><code class="language-js">// src/entry.feo

a_mod := import(&quot;src/a_module&quot;)

a_mod.func_in_a() // &quot;Hello from a_module&quot;
</code></pre>
<p>You can similarly import the module <code>src/a_module</code> from another module <code>src/directory/b_module</code>, relative to the <code>src/entry</code> module.</p>
<pre><code class="language-js">// src/directory/b_module.feo

a_mod := import(&quot;src/a_module&quot;)

a_mod.func_in_a() // &quot;Hello from a_module&quot;
</code></pre>
<p>Because <code>import</code> function returns an object containing public variables and functions, you can import specific functions like so:</p>
<pre><code class="language-js">// src/entry.feo

{func_in_a: func_from_a} := import(&quot;src/a_module&quot;)

func_from_a() // &quot;Hello from a_module&quot;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="exceptions"><a class="header" href="#exceptions">Exceptions</a></h1>
<p>Until now errors have never been mentioned, but if you have tried out the examples you have probably seen some.
There are two distinguishable kinds of errors: <em>syntax errors</em> and <em>exceptions</em>.</p>
<h2 id="syntax-errors"><a class="header" href="#syntax-errors">Syntax Errors</a></h2>
<p>Syntax errors, also known as parsing errors, are perhaps the most common kind of complaint you get while you are still learning Feo.</p>
<pre><code class="language-js">some_file:1:14 error: expected ']'
names[&quot;hello&quot;
</code></pre>
<h2 id="runtime-exceptions"><a class="header" href="#runtime-exceptions">Runtime Exceptions</a></h2>
<p>Even if an expression is syntactically correct, it may cause an error when an attempt is made to execute it:</p>
<pre><code class="language-js">some_file:1:11 zero division error: division by zero
n := 10 / 0
</code></pre>
<h2 id="handling-runtime-exceptions"><a class="header" href="#handling-runtime-exceptions">Handling Runtime Exceptions</a></h2>
<p>It is possible to write programs that handle exceptions. The previous line of code can be handled like this:</p>
<pre><code class="language-js">result := unsafe (10 / 0)
match error?(result) {
    true -&gt; println!(&quot;Math still works!&quot;),
    false -&gt; println!(&quot;Math is broken :(&quot;),
}
</code></pre>
<p>If an expression evaluates without any errors, the <code>unsafe</code> expression returns the value:</p>
<pre><code class="language-js">func return_one() 1

result := unsafe return_one()
result // 1
</code></pre>
<p>An exception is just an object that has two properties: <code>error_type</code> and <code>error_message</code>. For example:</p>
<pre><code class="language-js">{
    error_type: :zero_division,
    error_message: &quot;division by zero&quot;
}
</code></pre>
<h3 id="user-defined-runtime-errors"><a class="header" href="#user-defined-runtime-errors">User-defined Runtime Errors</a></h3>
<p>Programs may name their own exceptions by creating a new exception:</p>
<pre><code class="language-js">error(:user_defined, &quot;user-defined error!&quot;)
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="testing"><a class="header" href="#testing">Testing</a></h2>
<p>The <a href="./library/testing.html"><code>testing</code></a> module provides a set of tools for constructing tests.</p>
<p>Here's a simple example to test three functions in <code>strings</code> module:</p>
<pre><code class="language-js">strings := import(&quot;strings&quot;)
testing := import(&quot;testing&quot;)

testing.run({
    title: &quot;Test strings module&quot;,
    tests: [
        {
            name: &quot;test uppercase&quot;,
            test: func(t) {
                result := strings.uppercase(&quot;hello, world&quot;)
                expected := &quot;HELLO, WORLD&quot;
                testing.assert_equal(result, expected)
            }
        },
        {
            name: &quot;test lowercase&quot;,
            test: func(t) {
                result := strings.lowercase(&quot;HELLO, WORLD&quot;)
                expected := &quot;hello, world&quot;
                testing.assert_true(result == expected)
            }
        },
        {
            name: &quot;test capital&quot;,
            test: func(t) {
                result := strings.capital(&quot;hello, world&quot;)
                expected := &quot;Hello, World&quot;
                testing.assert_equal(result, expected)
            }
        }
    ]
})
</code></pre>
<p>The <a href="./library/testing.html"><code>testing</code></a> module provides several assert methods to check for and report failures.
The following table lists all the assert functions.</p>
<div class="table-wrapper"><table><thead><tr><th>Function</th><th>Checks that</th></tr></thead><tbody>
<tr><td><code>assert_equal(a, b)</code></td><td><code>a == b</code></td></tr>
<tr><td><code>assert_not_equal(a, b)</code></td><td><code>a != b</code></td></tr>
<tr><td><code>assert_true(x)</code></td><td><code>bool(x) == true</code></td></tr>
<tr><td><code>assert_false(x)</code></td><td><code>bool(x) == false</code></td></tr>
<tr><td><code>assert_null(x)</code></td><td><code>x == null</code></td></tr>
<tr><td><code>assert_not_null(x)</code></td><td><code>x != null</code></td></tr>
<tr><td><code>assert_contains(a, b)</code></td><td><code>std.contains?(a, b) == true</code></td></tr>
<tr><td><code>assert_not_contain(a, b)</code></td><td><code>std.contains?(a, b) == false</code></td></tr>
<tr><td><code>assert_error(a, t, msg)</code></td><td><code>unsafe a == error(t, msg)</code></td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="the-feo-standard-library"><a class="header" href="#the-feo-standard-library">The Feo Standard Library</a></h1>
<p>Feo‚Äôs standard library is quite extensive, offering a wide range of facilities as indicated by the long table of contents listed below.
The library contains built-in modules (written in Rust) that provide access to system functionality such as file I/O that would otherwise be inaccessible to Feo programmers,
as well as modules written in Feo that provide standardized solutions for many problems that occur in everyday programming.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="built-in-functions"><a class="header" href="#built-in-functions">Built-in Functions</a></h1>
<p>The Feo interpreter has a number of functions and types built into it that are always available.
All of them are listed here.</p>
<ul>
<li><a href="library/builtins.html#absx"><code>abs</code></a></li>
<li><a href="library/builtins.html#importx"><code>import</code></a> </li>
<li><a href="library/builtins.html#intx"><code>int</code></a> </li>
<li><a href="library/builtins.html#floatx"><code>float</code></a></li>
<li><a href="library/builtins.html#stringx"><code>string</code></a></li>
<li><a href="library/builtins.html#atomx"><code>atom</code></a></li>
<li><a href="library/builtins.html#typex"><code>type</code></a></li>
<li><a href="library/builtins.html#lenxs"><code>len</code></a></li>
<li><a href="library/builtins.html#appendxs-x"><code>append</code></a></li>
<li><a href="library/builtins.html#appendxs-x-1"><code>append!</code></a></li>
<li><a href="library/builtins.html#popxs-i"><code>pop</code></a></li>
<li><a href="library/builtins.html#popxs-i-1"><code>pop!</code></a></li>
<li><a href="library/builtins.html#keysobj"><code>keys</code></a></li>
<li><a href="library/builtins.html#valuesobj"><code>values</code></a></li>
<li><a href="library/builtins.html#args"><code>args</code></a></li>
<li><a href="library/builtins.html#env"><code>env</code></a></li>
<li><a href="library/builtins.html#getobj-key"><code>get</code></a></li>
<li><a href="library/builtins.html#printx"><code>print</code></a></li>
<li><a href="library/builtins.html#printlnx"><code>println</code></a></li>
<li><a href="library/builtins.html#epintx"><code>eprint</code></a></li>
<li><a href="library/builtins.html#eprintln"><code>eprintln</code></a></li>
<li><a href="library/builtins.html#errort-msg"><code>error</code></a></li>
<li><a href="library/builtins.html#errorx"><code>error?</code></a></li>
</ul>
<h2 id="absx"><a class="header" href="#absx"><code>abs(x)</code></a></h2>
<p><code>abs</code> returns the absolute value of a number.</p>
<h2 id="importx"><a class="header" href="#importx"><code>import(x)</code></a></h2>
<p><code>import</code> imports the module <code>x</code>.</p>
<h2 id="intx"><a class="header" href="#intx"><code>int(x)</code></a></h2>
<p><code>int</code> converts <code>x</code> to an integer.</p>
<h2 id="floatx"><a class="header" href="#floatx"><code>float(x)</code></a></h2>
<p><code>float</code> converts <code>x</code> to a float.</p>
<h2 id="stringx"><a class="header" href="#stringx"><code>string(x)</code></a></h2>
<p><code>string</code> converts <code>x</code> to a string.</p>
<h2 id="atomx"><a class="header" href="#atomx"><code>atom(x)</code></a></h2>
<p><code>atom</code> converts <code>x</code> to an atom.</p>
<h2 id="typex"><a class="header" href="#typex"><code>type(x)</code></a></h2>
<p><code>type</code> returns the type of <code>x</code> as an atom: <code>:int</code>, <code>:float</code>, <code>:string</code>, <code>:atom</code>, <code>:list</code>, or <code>:object</code>.</p>
<pre><code class="language-js">pi := 3.1415
type(pi) // :float
</code></pre>
<h2 id="lenxs"><a class="header" href="#lenxs"><code>len(xs)</code></a></h2>
<p><code>len</code>returns the length of a string, a list, or an object.</p>
<pre><code class="language-js">list := [&quot;Hello&quot;, &quot;World&quot;]
len(list) // 2
</code></pre>
<h2 id="appendxs-x"><a class="header" href="#appendxs-x"><code>append(xs, x)</code></a></h2>
<p><code>append</code> creates a new list or string, <code>x</code> appended to <code>xs</code>.</p>
<pre><code class="language-js">list := [1, 2]
list = append(list, 3)
list // [1, 2, 3]
</code></pre>
<h2 id="appendxs-x-1"><a class="header" href="#appendxs-x-1"><code>append!(xs, x)</code></a></h2>
<p><code>append!</code> appends <code>x</code> to <code>xs</code>, a list or string, mutating it.</p>
<pre><code class="language-js">list := [1, 2]
append!(list, 3)
list // [1, 2, 3]
</code></pre>
<h2 id="popxs-i"><a class="header" href="#popxs-i"><code>pop(xs, i)</code></a></h2>
<p><code>pop</code> creates a new list or string, the item at index <code>i</code> popped from <code>xs</code>, and returns a list of the new value and the popped value.
<code>i</code> is optional and defaults to <code>len(xs) - 1</code>.</p>
<pre><code class="language-js">list := [1, 2, 3]
[list, popped] := pop(list) // list is [1, 2], and popped is 3
</code></pre>
<h2 id="popxs-i-1"><a class="header" href="#popxs-i-1"><code>pop!(xs, i)</code></a></h2>
<p><code>pop!</code> pops the value of <code>xs</code> at index <code>i</code>, mutating the list or string. <code>i</code> is optional and defaults to <code>len(xs) - 1</code>.</p>
<pre><code class="language-js">list := [1, 2, 3]
popped := pop!(list) // popped is 3
</code></pre>
<h2 id="keysobj"><a class="header" href="#keysobj"><code>keys(obj)</code></a></h2>
<p><code>keys</code> returns a list of the keys of the object <code>obj</code>.</p>
<pre><code class="language-js">obj := {name: &quot;Nobu&quot;, email: &quot;nobu.bichanna@gmail.com&quot;}
keys(obj) // [:name, :email]
</code></pre>
<h2 id="valuesobj"><a class="header" href="#valuesobj"><code>values(obj)</code></a></h2>
<p><code>values</code> returns a list of the values of the object <code>obj</code>.</p>
<pre><code class="language-js">obj := {name: &quot;Nobu&quot;, email: &quot;nobu.bichanna@gmail.com&quot;}
values(obj) // [&quot;Nobu&quot;, &quot;nobu.bichanna@gmail.com&quot;]
</code></pre>
<h2 id="args"><a class="header" href="#args"><code>args()</code></a></h2>
<p><code>args</code> returns a list of command line arguments.</p>
<h2 id="env"><a class="header" href="#env"><code>env()</code></a></h2>
<p><code>env</code> returns all environment variables as an object.</p>
<h2 id="getobj-key"><a class="header" href="#getobj-key"><code>get(obj, key)</code></a></h2>
<p><code>get</code> returns the value of the item with the key <code>key</code>, which could be an atom or a string. It is unsafe (might throw an error).</p>
<pre><code class="language-js">obj := {name: &quot;Nobu&quot;}
get(obj, :name) // &quot;Nobu&quot;
</code></pre>
<h2 id="printx"><a class="header" href="#printx"><code>print(x)</code></a></h2>
<p><code>print</code> prints <code>x</code> to the standard output stream.</p>
<pre><code class="language-js">print(&quot;Hello, world\n&quot;)
</code></pre>
<h2 id="printlnx"><a class="header" href="#printlnx"><code>println(x)</code></a></h2>
<p><code>println</code> prints <code>x</code> to the standard output stream with a new line at the end.</p>
<pre><code class="language-js">println(&quot;Hello, world&quot;)
</code></pre>
<h2 id="eprintx"><a class="header" href="#eprintx"><code>eprint(x)</code></a></h2>
<p><code>eprint</code> prints <code>x</code> to the standard error stream.</p>
<pre><code class="language-js">eprint(&quot;something wrong happened!\n&quot;)
</code></pre>
<h2 id="eprintlnx"><a class="header" href="#eprintlnx"><code>eprintln(x)</code></a></h2>
<p><code>eprintln</code> prints <code>x</code> to the standard error stream with a new line at the end.`</p>
<pre><code class="language-js">eprintln(&quot;something wrong happened!&quot;)
</code></pre>
<h2 id="errort-msg"><a class="header" href="#errort-msg"><code>error(t, msg)</code></a></h2>
<p><code>error</code> creates a new error with type <code>t</code> and <code>msg</code>.</p>
<pre><code class="language-js">err := unsafe error(:some_error, &quot;some error!&quot;)
err.error_type    // :some_error
err.error_message // &quot;some error!&quot;
</code></pre>
<h2 id="errorx"><a class="header" href="#errorx"><code>error?(x)</code></a></h2>
<p><code>error?</code> checks if <code>x</code> is an error object or not.</p>
<pre><code class="language-js">result := unsafe (10 / 0)
match error?(result) {
    true -&gt; &quot;Math still works!&quot;,
    false -&gt; &quot;Math is broken ;(&quot;,
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="std"><a class="header" href="#std"><code>std</code></a></h1>
<p><code>std</code> module defines basic functions for working with Feo values and functions, iterators, and control flow.</p>
<ul>
<li><a href="library/std.html#identityx"><code>identity</code></a></li>
<li><a href="library/std.html#isx"><code>is</code></a></li>
<li><a href="library/std.html#defaultx-base"><code>default</code></a></li>
<li><a href="library/std.html#to_hexn"><code>to_hex</code></a></li>
<li><a href="library/std.html#from_hexs"><code>from_hex</code></a></li>
<li><a href="library/std.html#clampmin-max-n-m"><code>clamp</code></a></li>
<li><a href="library/std.html#slicexs-min-max"><code>slice</code></a></li>
<li><a href="library/std.html#clonex"><code>clone</code></a></li>
<li><a href="library/std.html#rangestart-end-step"><code>range</code></a></li>
<li><a href="library/std.html#reversexs"><code>reverse</code></a></li>
<li><a href="library/std.html#mapxs-f"><code>map</code></a></li>
<li><a href="library/std.html#eachxs-f"><code>each</code></a></li>
<li><a href="library/std.html#ifcond-then-else"><code>if</code></a></li>
<li><a href="library/std.html#filterxs-f"><code>filter</code></a></li>
<li><a href="library/std.html#reducexs-seed-f"><code>reduce</code></a></li>
<li><a href="library/std.html#flattenxs"><code>flatten</code></a></li>
<li><a href="library/std.html#appendxs-ys"><code>append</code></a></li>
<li><a href="library/std.html#joinxs-ys"><code>join</code></a></li>
<li><a href="library/std.html#zipxs-ys-zipper"><code>zip</code></a></li>
<li><a href="library/std.html#partitionxs-by"><code>partition</code></a></li>
<li><a href="library/std.html#uniquexs-pred"><code>unique</code></a></li>
<li><a href="library/std.html#firstxs"><code>first</code></a></li>
<li><a href="library/std.html#lastxs"><code>last</code></a></li>
<li><a href="library/std.html#takexs-n"><code>take</code></a></li>
<li><a href="library/std.html#take_lastxs-n"><code>take_last</code></a></li>
<li><a href="library/std.html#findxs-pred"><code>find</code></a></li>
<li><a href="library/std.html#rfindxs-pred"><code>rfind</code></a></li>
<li><a href="library/std.html#index_ofxs-x"><code>index_of</code></a></li>
<li><a href="library/std.html#rindex_ofxs-x"><code>rindex_of</code></a></li>
<li><a href="library/std.html#containsxs-x"><code>contains?</code></a></li>
<li><a href="library/std.html#loopmax-f"><code>loop</code></a></li>
<li><a href="library/std.html#aloopmax-f-done"><code>aloop</code></a></li>
<li><a href="library/std.html#sortxs-pred"><code>sort!</code></a></li>
<li><a href="library/std.html#sortxs-pred-1"><code>sort</code></a></li>
</ul>
<h2 id="identityx"><a class="header" href="#identityx"><code>identity(x)</code></a></h2>
<p><code>identity</code> returns its first argument.</p>
<pre><code class="language-js">&quot;Hello&quot; == identity(&quot;Hello&quot;) // true
</code></pre>
<h2 id="isx"><a class="header" href="#isx"><code>is(x)</code></a></h2>
<p><code>is</code> returns a predicate that reports whether its argument is equal to <code>x</code>.</p>
<pre><code class="language-js">f := is(2)
f(2)   // true
f(&quot;a&quot;) // false
</code></pre>
<h2 id="defaultx-base"><a class="header" href="#defaultx-base"><code>default(x, base)</code></a></h2>
<p><code>default</code> returns <code>x</code> if <code>x</code> is not <code>null</code>, or <code>base</code> otherwise. It is useful when taking optional arguments in functions with default values.</p>
<pre><code class="language-js">func some_func(n, times) {
    // times = 1 by default
    times := default(times, 2)
    // do something
}
</code></pre>
<h2 id="to_hexn"><a class="header" href="#to_hexn"><code>to_hex(n)</code></a></h2>
<p><code>to_hex</code> takes a number and returns its hexadecimal representation in a string. It fails for negative values.</p>
<pre><code class="language-js">to_hex(50159747054) // &quot;BADC0FFEE&quot;
</code></pre>
<h2 id="from_hexs"><a class="header" href="#from_hexs"><code>from_hex(s)</code></a></h2>
<p><code>from_hex</code> takes a hexadecimal representation of a number and parses it to an integer. It returns <code>null</code> if the input is not a valid hexadecimal number.</p>
<pre><code class="language-js">from_hex(&quot;BADC0FFEE&quot;) // 50159747054
</code></pre>
<h2 id="clampmin-max-n-m"><a class="header" href="#clampmin-max-n-m"><code>clamp(min, max, n, m)</code></a></h2>
<p><code>clamp</code> takes values <code>n</code>, <code>m</code> and &quot;clamps&quot; or constrains it to the range [<code>min</code>, <code>max</code>], inclusive. If <code>n &gt; m</code>, <code>n</code> takes priority and clams <code>m</code> down to the lower
value. In the returned value, the following are guaranteed:</p>
<ul>
<li><code>min &lt;= n &lt;= max</code></li>
<li><code>min &lt;= m &lt;= max</code></li>
<li><code>n &lt;= m</code></li>
</ul>
<h2 id="slicexs-min-max"><a class="header" href="#slicexs-min-max"><code>slice(xs, min, max)</code></a></h2>
<p><code>slice</code> takes an iterable <code>xs</code> (string or list) and returns a &quot;slice&quot; of the original from the range [<code>min</code>, <code>max</code>).
The slice is a copy, and mutating it will not mutate the original.</p>
<p>Both <code>min</code> and <code>max</code> are optional and will default to <code>0</code> and <code>len(xs)</code> respectively.</p>
<pre><code class="language-js">name := &quot;Sol David&quot;
slice(name, 0, 3) // &quot;Sol&quot;
</code></pre>
<h2 id="clonex"><a class="header" href="#clonex"><code>clone(x)</code></a></h2>
<p><code>clone</code> takes any Feo value and produces a shallow copy of it that will not mutate if the original mutates.</p>
<pre><code class="language-js">list := [1, 2, 3]
new_list := clone(list)

[list, _] = pop(list) // list is [1, 2]
new_list // still [1, 2, 3]
</code></pre>
<h2 id="rangestart-end-step"><a class="header" href="#rangestart-end-step"><code>range(start, end, step)</code></a></h2>
<p><code>range</code> returns a list of numbers in range [<code>start</code>, <code>end</code>), incrementing by <code>step</code>.
It is analogous to Python's <code>range</code> builtin, and will default to <code>step = 0</code> and <code>start = 0</code> when those optional values are missing.</p>
<pre><code class="language-js">range(0, 11, 2) // [0, 2, 4, 6, 8, 10]
</code></pre>
<h2 id="reversexs"><a class="header" href="#reversexs"><code>reverse(xs)</code></a></h2>
<p><code>reverse</code> reverses the order of all elements in a given iterable, producing a copy.</p>
<pre><code class="language-js">reverse([1, 2, 3]) // [3, 2, 1]
</code></pre>
<h2 id="mapxs-f"><a class="header" href="#mapxs-f"><code>map(xs, f)</code></a></h2>
<p><code>map</code> produces a copy of the given iterable where each element has been put through some mapper predicate <code>f</code>.
If <code>f</code> is a function, it receives arguments (<code>element</code>, <code>index</code>).</p>
<pre><code class="language-js">[1, 2, 3] |&gt; map(func(element, index) element * 5) // [5, 10, 15]
</code></pre>
<h2 id="eachxs-f"><a class="header" href="#eachxs-f"><code>each(xs, f)</code></a></h2>
<p><code>each</code> calls the given iterator function <code>f</code> for each element of the given iterable <code>xs</code>.
The iterator function receives arguments (<code>element</code>, <code>index</code>).</p>
<pre><code class="language-js">[1, 2, 3] |&gt; each(func(element, index) print(element))
// prints &quot;123&quot; to the console
</code></pre>
<h2 id="ifcond-then-else"><a class="header" href="#ifcond-then-else"><code>if(cond, then, else)</code></a></h2>
<p>When <code>cond</code> is <code>true</code>, predicate <code>then</code> gets called. When <code>cond</code> is <code>false</code>, predicate <code>else</code> gets called.</p>
<pre><code class="language-js">if(&quot;abc&quot; == &quot;abc&quot;, func() {
    println(&quot;gets executed&quot;)
}) &lt;| func() {
    println(&quot;don't get executed&quot;)
}
</code></pre>
<h2 id="filterxs-f"><a class="header" href="#filterxs-f"><code>filter(xs, f)</code></a></h2>
<p><code>filter</code> produces an iterable containing only the elements of <code>xs</code> that return <code>true</code> when passed to the filter predicate <code>f</code>.
If <code>f</code> is a function, it receives arguments (<code>element</code>, <code>index</code>).</p>
<pre><code class="language-js">list := [10, 4, 23, 13, 45] |&gt; filter(func(element, index) element &gt;= 15)
list // [23, 45]
</code></pre>
<h2 id="reducexs-seed-f"><a class="header" href="#reducexs-seed-f"><code>reduce(xs, seed, f)</code></a></h2>
<p><code>reduce</code> accumulates elements of the iterable <code>xs</code> on a value, starting with <code>seed</code> and passing it to the reducer function <code>f</code>.
The reducer receives arguments (<code>accumulator</code>, <code>element</code>, <code>index</code>).</p>
<pre><code class="language-js">// an example &quot;sum&quot; function implemented with reduce
numbers |&gt; reduce(0) &lt;| func(accumulator, elem) accumulator + elem
</code></pre>
<h2 id="flattenxs"><a class="header" href="#flattenxs"><code>flatten(xs)</code></a></h2>
<p><code>flatten</code> takes a list of lists and flattens it to a list of elements. The flattening is only one level deep.</p>
<pre><code class="language-js">list := [[1, 2, 3], [4, 5], [6, 7]]
flatten(list) // [1, 2, 3, 4, 5, 6, 7]
</code></pre>
<h2 id="appendxs-ys"><a class="header" href="#appendxs-ys"><code>append(xs, ys)</code></a></h2>
<p><code>append</code> joins two iterable values (strings or lists) together, mutating the first argument <code>xs</code>.
If mutation is not desired, use <code>std.join</code>.</p>
<pre><code class="language-js">names := [&quot;Nobu&quot;, &quot;Damian&quot;]
append(names, [&quot;Sol&quot;, &quot;Thomas&quot;])
names // [&quot;Nobu&quot;, &quot;Damian&quot;, &quot;Sol&quot;, &quot;Thomas&quot;]
</code></pre>
<h2 id="joinxs-ys"><a class="header" href="#joinxs-ys"><code>join(xs, ys)</code></a></h2>
<p><code>join</code> joins two iterable values (strings or lists) together, while mutating neither values. If efficiency is desired, used <code>std.append</code>.</p>
<pre><code class="language-js">names := [&quot;Nobu&quot;, &quot;Damian&quot;]
join(names, [&quot;Sol&quot;, &quot;Thomas&quot;]) // [&quot;Nobu&quot;, &quot;Damian&quot;, &quot;Sol&quot;, &quot;Thomas&quot;]
names // [&quot;Nobu&quot;, &quot;Damian&quot;], not mutated
</code></pre>
<h2 id="zipxs-ys-zipper"><a class="header" href="#zipxs-ys-zipper"><code>zip(xs, ys, zipper)</code></a></h2>
<p><code>zip</code> &quot;zips&quot; together each pair of items from two iterables. If the zipper function is not given, each pair of items are put into a 2-element list.
Otherwise, <code>zipper</code> is called on each pair of items and the result is placed into the resulting list.</p>
<pre><code class="language-js">zip([1, 2, 3], [4, 5, 6]) // =&gt; [[1, 2], [3, 4], [5, 6]]

zip([1, 2, 3], [4, 5, 6], fn(a, b) a * b) // =&gt; [4, 10, 18]
</code></pre>
<h2 id="partitionxs-by"><a class="header" href="#partitionxs-by"><code>partition(xs, by)</code></a></h2>
<p><code>partition</code> divides the sequence of items in the iterable <code>xs</code> into a list of lists (partitions).</p>
<p>If <code>by</code> is an integer, each partition will contain that number of items. If <code>by</code> is a function, the partition will be cut anywhere the result of the function changes from one item to the next. For any other values of <code>by</code>, partition returns null.</p>
<pre><code class="language-js">list := [1, 2, 3, 4, 5, 6]
partition(list, 3) // [[1, 2, 3], [4, 5, 6]]
</code></pre>
<h2 id="uniquexs-pred"><a class="header" href="#uniquexs-pred"><code>unique(xs, pred)</code></a></h2>
<p><code>unique</code> takes a list <code>xs</code>, and returns a similar list where no element of <code>xs</code> occurs twice in a row.
Elements may occur twice in the list if they are separated by other elements.
<code>unique</code> takes an optional <code>pred</code> predicate, by which elements' equality may be compared. <code>unique</code> runs in <code>O(n)</code> time.</p>
<pre><code class="language-js">list := [1, 1, 2, 2, 3]
unique(list) // [1, 2, 3]
</code></pre>
<h2 id="firstxs"><a class="header" href="#firstxs"><code>first(xs)</code></a></h2>
<p><code>first</code> returns the first item in an iterable. It's trivial, but useful to have in the stdlib for use in pipelines or iterators.</p>
<pre><code class="language-js">name := &quot;Nobu&quot;
first(name) // &quot;N&quot;
</code></pre>
<h2 id="lastxs"><a class="header" href="#lastxs"><code>last(xs)</code></a></h2>
<p><code>last</code> returns the last item in an iterable. It's trivial, but useful to have in the stdlib for use in pipelines or iterators.</p>
<pre><code class="language-js">name := &quot;Nobu&quot;
first(name) // &quot;u&quot;
</code></pre>
<h2 id="takexs-n"><a class="header" href="#takexs-n"><code>take(xs, n)</code></a></h2>
<p><code>take</code> accepts an iterable and returns a version of it containing the first N elements.</p>
<pre><code class="language-js">email := &quot;nobu.bichanna@gmail.com&quot;
take(email, 4) // &quot;nobu&quot;
</code></pre>
<h2 id="take_lastxs-n"><a class="header" href="#take_lastxs-n"><code>take_last(xs, n)</code></a></h2>
<p><code>take_last</code> accepts an iterable and returns a version of it containing the last N elements.</p>
<pre><code class="language-js">email := &quot;nobu.bichanna@gmail.com&quot;
take_last(email, 9) // &quot;gmail.com&quot;
</code></pre>
<h2 id="findxs-pred"><a class="header" href="#findxs-pred"><code>find(xs, pred)</code></a></h2>
<p><code>find</code> returns the index of the first item in the iterable <code>xs</code> for which the predicate returns <code>true</code>. If no match is found, find returns <code>-1</code>.</p>
<pre><code class="language-js">nobu? := is(&quot;Nobu&quot;)
names := [&quot;Sol&quot;, &quot;Nobu&quot;, &quot;Damian&quot;, &quot;Thomas&quot;, &quot;Maks&quot;, &quot;Nobu&quot;]
find(names, nobu?) // 1
</code></pre>
<h2 id="rfindxs-pred"><a class="header" href="#rfindxs-pred"><code>rfind(xs, pred)</code></a></h2>
<p><code>rfind</code> returns the index of the last item in the iterable <code>xs</code> for which the predicate returns <code>true</code>, searching backwards from the end.
If no match is found, <code>rfind</code> returns <code>-1</code>.</p>
<pre><code class="language-js">nobu? := is(&quot;Nobu&quot;)
names := [&quot;Sol&quot;, &quot;Nobu&quot;, &quot;Damian&quot;, &quot;Thomas&quot;, &quot;Maks&quot;, &quot;Nobu&quot;]
rfind(names, nobu?) // 5
</code></pre>
<h2 id="index_ofxs-x"><a class="header" href="#index_ofxs-x"><code>index_of(xs, x)</code></a></h2>
<p><code>index_of</code> returns the index of the first item equal to <code>x</code> in the iterable <code>xs</code>. If no match is found, <code>index_of</code> returns <code>-1</code>.</p>
<pre><code class="language-js">names := [&quot;Sol&quot;, &quot;Nobu&quot;, &quot;Damian&quot;, &quot;Thomas&quot;, &quot;Maks&quot;, &quot;Nobu&quot;]
index_of(names, &quot;Nobu&quot;) // 1
</code></pre>
<h2 id="rindex_ofxs-x"><a class="header" href="#rindex_ofxs-x"><code>rindex_of(xs, x)</code></a></h2>
<p>// <code>rindex_of</code> returns the index of the last item equal to <code>x</code> in the iterable <code>xs</code>, searching backwards from the end. If no match is found, <code>rindex_of</code> returns <code>-1</code>.</p>
<pre><code class="language-js">names := [&quot;Sol&quot;, &quot;Nobu&quot;, &quot;Damian&quot;, &quot;Thomas&quot;, &quot;Maks&quot;, &quot;Nobu&quot;]
index_of(names, &quot;Nobu&quot;) // 5
</code></pre>
<h2 id="containsxs-x"><a class="header" href="#containsxs-x"><code>contains?(xs, x)</code></a></h2>
<p><code>contains?</code> reports whether an iterable contains an item equal to <code>x</code>.</p>
<pre><code class="language-js">names := [&quot;Sol&quot;, &quot;Nobu&quot;, &quot;Damian&quot;, &quot;Thomas&quot;, &quot;Maks&quot;, &quot;Nobu&quot;]
contains?(names, &quot;Nobu&quot;) // true
</code></pre>
<h2 id="loopmax-f"><a class="header" href="#loopmax-f"><code>loop(max, f)</code></a></h2>
<p><code>loop</code> takes a loop count <code>max</code> and a callback, and invokes the callback <code>max</code> times.
It can be used to infinitely loop if <code>max &lt; 0</code>. Callback is called with two arguments:</p>
<ul>
<li><code>count</code>: the current loop count starting from <code>0</code></li>
<li><code>breaker</code>: a function to be called to exit early from the loop, which takes an optional return value to be returned by the <code>loop()</code> call</li>
</ul>
<pre><code class="language-js">loop(100) &lt;| func(count, breaker) { // prints &quot;Hello, world!&quot; to the console 100 times
    println(&quot;Hello, world!&quot;)
}
</code></pre>
<h2 id="aloopmax-f-done"><a class="header" href="#aloopmax-f-done"><code>aloop(max, f, done)</code></a></h2>
<p><code>aloop</code> takes a loop count <code>max</code> and a callback, and invokes the callback <code>max</code> times <em>asynchronously</em>.
It can be used to infinitely loop if <code>max &lt; 0</code>. Callback is called with three arguments:</p>
<ul>
<li>count: the current loop count starting from <code>0</code></li>
<li>next: a function to be called when the current iteration is done</li>
<li>done: a function to be called to exit early from the loop</li>
</ul>
<pre><code class="language-js">aloop(100) &lt;| func(count, next, done) {
    // do something...
    next()
}
</code></pre>
<h2 id="sortxs-pred"><a class="header" href="#sortxs-pred"><code>sort!(xs, pred)</code></a></h2>
<p><code>sort!</code> sorts items in the list <code>xs</code> by each item's <code>pred</code> value, using the Hoare partitioning strategy. If <code>pred</code> is not given, each item is sorted by its own value.
It mutates the original list for efficiency. If mutation is not desired, use sort below.</p>
<pre><code class="language-js">list := [3, 4, 2, 5, 1]
sort!(list)
list // [1, 2, 3, 4, 5]
</code></pre>
<h2 id="sortxs-pred-1"><a class="header" href="#sortxs-pred-1"><code>sort(xs, pred)</code></a></h2>
<p><code>sort</code> returns a copy of <code>xs</code> that is sorted by <code>pred</code>, or by each item's value if <code>pred</code> is not given.
If the performance cost of a copy is not desirable, use <code>sort!</code>.</p>
<pre><code class="language-js">list := [3, 4, 2, 5, 1]
list = sort(list)
list // [1, 2, 3, 4, 5]
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="strings-1"><a class="header" href="#strings-1"><code>strings</code></a></h1>
<p><code>strings</code> module provides a set of utility functions for working with strings and data encoded in strings in Feo programs.</p>
<ul>
<li><a href="library/string.html#upperc"><code>upper?</code></a></li>
<li><a href="library/string.html#lowerc"><code>lower?</code></a></li>
<li><a href="library/string.html#digitc"><code>digit?</code></a></li>
<li><a href="library/string.html#spacec"><code>space?</code></a></li>
<li><a href="library/string.html#letterc"><code>letter?</code></a></li>
<li><a href="library/string.html#wordc"><code>word?</code></a></li>
<li><a href="library/string.html#joinstrings-joiner"><code>join</code></a></li>
<li><a href="library/string.html#starts_withs-prefix"><code>starts_with?</code></a></li>
<li><a href="library/string.html#ends_withs_suffix"><code>ends_with?</code></a></li>
<li><a href="library/string.html#index_ofs-substr"><code>index_of</code></a></li>
<li><a href="library/string.html#rindex_ofs-substr"><code>rindex_of</code></a></li>
<li><a href="library/string.html#containss-substr"><code>contains?</code></a></li>
<li><a href="library/string.html#replaces-old-new"><code>replace</code></a></li>
<li><a href="library/string.html#splits-sep"><code>split</code></a></li>
<li><a href="library/string.html#pad_starts-n-pad"><code>pad_start</code></a></li>
<li><a href="library/string.html#pad_ends-n-pad"><code>pad_end</code></a></li>
<li><a href="library/string.html#trim_starts-prefix"><code>trim_start</code></a></li>
<li><a href="library/string.html#trim_ends-suffix"><code>trim_end</code></a></li>
<li><a href="library/string.html#trims-part"><code>trim</code></a></li>
</ul>
<h2 id="upperc"><a class="header" href="#upperc"><code>upper?(c)</code></a></h2>
<p><code>upper?</code> reports whether a given char is an uppercase ASCII letter.</p>
<pre><code class="language-js">upper?(&quot;a&quot;) // false
upper?(&quot;A&quot;) // true
</code></pre>
<h2 id="lowerc"><a class="header" href="#lowerc"><code>lower?(c)</code></a></h2>
<p><code>lower?</code> reports whether a given char is a lowercase ASCII letter.</p>
<pre><code class="language-js">lower?(&quot;a&quot;) // true
lower?(&quot;A&quot;) // false
</code></pre>
<h2 id="digitc"><a class="header" href="#digitc"><code>digit?(c)</code></a></h2>
<p><code>digit?</code> reports whether a given char is an ASCII digit.</p>
<pre><code class="language-js">digit?(&quot;1&quot;) // true
digit?(&quot;a&quot;) // false
</code></pre>
<h2 id="spacec"><a class="header" href="#spacec"><code>space?(c)</code></a></h2>
<p><code>space?</code> reports whether a given char is an ASCII whitespace.</p>
<pre><code class="language-js">space?(&quot;\n&quot;) // true
space?(&quot;a&quot;) // false
</code></pre>
<h2 id="letterc"><a class="header" href="#letterc"><code>letter?(c)</code></a></h2>
<p><code>letter?</code> reports whether a given char is an ASCII letter.</p>
<pre><code class="language-js">letter?(&quot;a&quot;) // true
letter?(&quot;A&quot;) // true
</code></pre>
<h2 id="wordc"><a class="header" href="#wordc"><code>word?(c)</code></a></h2>
<p><code>word?</code> reports whether a given char is a letter or a digit.</p>
<pre><code class="language-js">word?(&quot;1&quot;) // true
word?(&quot;a&quot;) // true
</code></pre>
<h2 id="joinstrings-joiner"><a class="header" href="#joinstrings-joiner"><code>join(strings, joiner)</code></a></h2>
<p><code>join</code> concatenates together a list of strings into a single string, where each original string in the list is separated by <code>joiner</code>.
Joiner is the empty string by default.</p>
<pre><code class="language-js">join([&quot;Nobu&quot;, &quot;Shimazu&quot;], &quot; &quot;) // &quot;Nobu Shimazu&quot;
</code></pre>
<h2 id="starts_withs-prefix"><a class="header" href="#starts_withs-prefix"><code>starts_with?(s, prefix)</code></a></h2>
<p><code>starts_with?</code> reports whether a string starts with the substring <code>prefix</code>.</p>
<pre><code class="language-js">starts_with?(&quot;abcdefg&quot;, &quot;abc&quot;) // true
</code></pre>
<h2 id="ends_withs-suffix"><a class="header" href="#ends_withs-suffix"><code>ends_with?(s, suffix)</code></a></h2>
<p><code>ends_with?</code> reports whether a string ends with the substring <code>suffix</code>.</p>
<pre><code class="language-js">ends_with?(&quot;abcdefg&quot;, &quot;efg&quot;) // true
</code></pre>
<h2 id="index_ofs-substr"><a class="header" href="#index_ofs-substr"><code>index_of(s, substr)</code></a></h2>
<p><code>index_of</code> returns the first index at which the given substring <code>substr</code> appears in the string <code>s</code>. If the substring does not exist, it returns <code>-1</code>.</p>
<pre><code class="language-js">index_of(&quot;nobu.bichanna@gmail.com&quot;, &quot;bichanna&quot;) // 5
</code></pre>
<h2 id="rindex_ofs-substr"><a class="header" href="#rindex_ofs-substr"><code>rindex_of(s, substr)</code></a></h2>
<p><code>rindex_of</code> returns the last index at which the given substring <code>substr</code> appears in the string <code>s</code>. If the substring does not exist, it returns <code>-1</code>.</p>
<pre><code class="language-js">rindex_of(&quot;nobu.bichanna@gmail.com&quot;, &quot;a&quot;) // 16 
</code></pre>
<h2 id="containss-substr"><a class="header" href="#containss-substr"><code>contains?(s, substr)</code></a></h2>
<p><code>contains?</code> reports whether the string <code>s</code> contains the substring <code>substr</code>.</p>
<pre><code class="language-js">contains?(&quot;nobu.bichanna@gmail.com&quot;, &quot;com&quot;) // true
contains?(&quot;nobu.bichanna@gmail.com&quot;, &quot;asd&quot;) // false
</code></pre>
<h2 id="replaces-old-new"><a class="header" href="#replaces-old-new"><code>replace(s, old, new)</code></a></h2>
<p><code>replace</code> returns a string where all occurrences of the substring <code>old</code> has been replaced by <code>new</code> in the string <code>s</code>. It does nothing for empty strings.</p>
<pre><code class="language-js">replace(&quot;catcatcat&quot;, &quot;t&quot;, &quot;ts&quot;) // &quot;catscatscats&quot;
</code></pre>
<h2 id="splits-sep"><a class="header" href="#splits-sep"><code>split(s, sep)</code></a></h2>
<p><code>split</code> splits the string <code>s</code> by every occurrence of the substring <code>sep</code> in it, and returns the result as a list of strings.
If <code>sep</code> is not specified, split returns a list of every character in the string in order.</p>
<pre><code class="language-js">split(&quot;blah blah blah&quot;, &quot; &quot;) // [&quot;blah&quot;, &quot;blah&quot;, &quot;blah&quot;]
</code></pre>
<h2 id="pad_starts-n-pad"><a class="header" href="#pad_starts-n-pad"><code>pad_start(s, n, pad)</code></a></h2>
<p><code>pad_start</code> prepends the string <code>s</code> with one or more repetitions of pad until the total string is at least <code>n</code> characters long. If <code>len(s) &gt; n</code>, it returns <code>s</code>.</p>
<pre><code class="language-js">pad_start(&quot;hello&quot;, 2, &quot;-&quot;) // &quot;--hello&quot;
</code></pre>
<h2 id="pad_ends-n-pad"><a class="header" href="#pad_ends-n-pad"><code>pad_end(s, n, pad)</code></a></h2>
<p><code>trim_end</code> removes any (potentially repeated) occurrences of the string <code>suffix</code> from the end of string <code>s</code>.</p>
<pre><code class="language-js">pad_end(&quot;hello&quot;, 2, &quot;-&quot;) // &quot;hello--&quot;
</code></pre>
<h2 id="trim_starts-prefix"><a class="header" href="#trim_starts-prefix"><code>trim_start(s, prefix)</code></a></h2>
<p><code>trim_start</code> removes any (potentially repeated) occurrences of the string <code>prefix</code> from the beginning of string <code>s</code>.</p>
<pre><code class="language-js">trim_start(&quot;Nobuharu&quot;, &quot;Nobu&quot;) // &quot;haru&quot;
</code></pre>
<h2 id="trim_ends-suffix"><a class="header" href="#trim_ends-suffix"><code>trim_end(s, suffix)</code></a></h2>
<p><code>trim_end</code> removes any (potentially repeated) occurrences of the string <code>suffix</code> from the end of string <code>s</code>.</p>
<pre><code class="language-js">trim_end(&quot;Nobuharu&quot;, &quot;ru&quot;) // &quot;Nobuha&quot;
</code></pre>
<h2 id="trims-part"><a class="header" href="#trims-part"><code>trim(s, part)</code></a></h2>
<p><code>trim</code> removes any (potentially repeated) ocucrrences of the string <code>part</code> from either end of the string <code>s</code>.
If <code>part</code> is not specified, trim removes all whitespace from either end of the string <code>s</code>.</p>
<pre><code class="language-js">trim(&quot;  Hello  &quot;) // &quot;Hello&quot;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="math"><a class="header" href="#math"><code>math</code></a></h1>
<p>For functions dealing with coordinate pairs and angles, the coordinate plane is assumed to be a Cartesian plane with +x to the east and +y to the north,
where the angle is measured in radians from the +x axis, counterclockwise.</p>
<ul>
<li><a href="library/math.html#pi"><code>PI</code></a></li>
<li><a href="library/math.html#e"><code>E</code></a></li>
<li><a href="library/math.html#signn"><code>sign</code></a></li>
<li><a href="library/math.html#absn"><code>abs</code></a></li>
<li><a href="library/math.html#sqrtn"><code>sqrt</code></a></li>
<li><a href="library/math.html#hypotx0-y0-x1-y1"><code>hypot</code></a></li>
<li><a href="library/math.html#scalex-a-b-c-d"><code>scale</code></a></li>
<li><a href="library/math.html#combn-k"><code>comb</code></a></li>
<li><a href="library/math.html#sumxs"><code>sum</code></a></li>
<li><a href="library/math.html#prodxs"><code>prod</code></a></li>
<li><a href="library/math.html#minxs"><code>min</code></a></li>
<li><a href="library/math.html#maxxs"><code>max</code></a></li>
<li><a href="library/math.html#clampx-a-b"><code>clamp</code></a></li>
<li><a href="library/math.html#meanxs"><code>mean</code></a></li>
<li><a href="library/math.html#medianxs"><code>median</code></a></li>
<li><a href="library/math.html#std_devxs"><code>std_dev</code></a></li>
<li><a href="library/math.html#roundn-decimals"><code>round</code></a></li>
</ul>
<h2 id="pi"><a class="header" href="#pi"><code>PI</code></a></h2>
<p>œÄ, the circle constant.</p>
<pre><code class="language-js">PI := 3.14159265358979323846264338327950288419716939937510
</code></pre>
<h2 id="e"><a class="header" href="#e"><code>E</code></a></h2>
<p>e, the base of the natural logarith.</p>
<pre><code class="language-js">e := 2.71828182845904523536028747135266249775724709369995
</code></pre>
<h2 id="signn"><a class="header" href="#signn"><code>sign(n)</code></a></h2>
<p><code>sign</code> returns <code>-1</code> for all negative numbers, and <code>1</code> otherwise.</p>
<pre><code class="language-js">sign(4)  // 1
sign(-3) // -1
</code></pre>
<h2 id="absn"><a class="header" href="#absn"><code>abs(n)</code></a></h2>
<p><code>abs</code> returns the absolute value of a real number.</p>
<pre><code class="language-js">abs(-123) // 123
abs(123)  // 123
</code></pre>
<h2 id="sqrtn"><a class="header" href="#sqrtn"><code>sqrt(n)</code></a></h2>
<p><code>sqrt</code> returns the principal square root of a real number, or <code>null</code> if the number is negative.</p>
<pre><code class="language-js">sqrt(64) // 8
sqrt(-64) // null
</code></pre>
<h2 id="hypotx0-y0-x1-y1"><a class="header" href="#hypotx0-y0-x1-y1"><code>hypot(x0, y0, x1, y1)</code></a></h2>
<p><code>hypot</code> returns the Euclidean distance between two points, equivalent to the hypotenuse of a right triangle with the given two points as vertices.
If <code>x1</code> and <code>y1</code> default to <code>0</code>.</p>
<pre><code class="language-js">hypot(3, 4) // 5
</code></pre>
<h2 id="scalex-a-b-c-d"><a class="header" href="#scalex-a-b-c-d"><code>scale(x, a, b, c, d)</code></a></h2>
<p><code>scale</code> maps the value <code>x</code> in the range <code>[a, b]</code> to the range <code>[c, d]</code>. If <code>[c, d]</code> are not provided, they are assumed to be <code>[0, 1]</code>.
<code>x</code> may be outside the range <code>[a, b]</code>, in which case the value is scaled to be an equal amount outside of the range <code>[c, d]</code>.</p>
<h2 id="combn-k"><a class="header" href="#combn-k"><code>comb(n, k)</code></a></h2>
<p><code>comb</code> returns the number of ways to choose <code>k</code> items from <code>n</code> items without repetition and without order. If <code>k &gt; n</code>, <code>comb</code> returns <code>0</code>.</p>
<pre><code class="language-js">comb(4, 1) // 4
</code></pre>
<h2 id="sumxs"><a class="header" href="#sumxs"><code>sum(xs)</code></a></h2>
<p><code>sum</code> takes a list of values and returns their sum.</p>
<pre><code class="language-js">sum([1, 2, 3, 4]) // 10
</code></pre>
<h2 id="prodxs"><a class="header" href="#prodxs"><code>prod(xs)</code></a></h2>
<p><code>prod</code> takes a list of values and returns their product.</p>
<pre><code class="language-js">prod([1, 2, 3, 4]) // 24
</code></pre>
<h2 id="minxs"><a class="header" href="#minxs"><code>min(xs)</code></a></h2>
<p><code>min</code> takes a list of values and returns the minimum value in the list.</p>
<pre><code class="language-js">min([2, 4, 3, 5, 6, 1]) // 1
</code></pre>
<h2 id="maxxs"><a class="header" href="#maxxs"><code>max(xs)</code></a></h2>
<p><code>max</code> takes a list of values and returns the maximum value in the list.</p>
<pre><code class="language-js">max([2, 4, 3, 5, 6, 1]) // 6
</code></pre>
<h2 id="clampx-a-b"><a class="header" href="#clampx-a-b"><code>clamp(x, a, b)</code></a></h2>
<p><code>clamp</code> returns a value bounded by some upper and lower bounds <code>a</code> and <code>b</code>.
If the given <code>x</code> is between <code>a</code> and <code>b</code>, it is returned as-is, and if it is outside the bounds, the closer of the two bounds is returned.</p>
<pre><code class="language-js">clamp(5, 3, 8) // 5
clamp(2, 3, 8) // 3
clamp(9, 3, 8) // 8
</code></pre>
<h2 id="meanxs"><a class="header" href="#meanxs"><code>mean(xs)</code></a></h2>
<p><code>mean</code> returns the arithmetic mean, or average, of all given values. If the list is empty, mean returns <code>null</code>.</p>
<pre><code class="language-js">mean([2, 3, 4]) // 3
</code></pre>
<h2 id="medianxs"><a class="header" href="#medianxs"><code>median(xs)</code></a></h2>
<p><code>median</code> returns the median, or &quot;middle value&quot;, of all given values.
If there is an even number of values given, median computes the mean of the middle two values in the list. If the list is empty, median returns <code>null</code>.</p>
<pre><code class="language-js">median([3, 4, 1, 7, 5]) // 4
</code></pre>
<h2 id="std_devxs"><a class="header" href="#std_devxs"><code>std_dev(xs)</code></a></h2>
<p><code>std_dev</code> returns the population standard deviation computed from the given list of values. If the list is empty, <code>std_dev</code> returns <code>null</code>.</p>
<h2 id="roundn-decimals"><a class="header" href="#roundn-decimals"><code>round(n, decimals)</code></a></h2>
<p><code>round</code> takes a number <code>n</code> and returns a floating-point number that represents <code>n</code> round to the nearest <code>decimals</code>-th decimal place.
For negative values of <code>decimals</code>, no rounding occurs and <code>n</code> is returned exactly.</p>
<pre><code class="language-js">round(PI, 2) // 3.14
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="fmt"><a class="header" href="#fmt"><code>fmt</code></a></h1>
<p><code>fmt</code> is the string formatting library for Feo.</p>
<ul>
<li><a href="library/fmt.html#formatraw-values"><code>format</code></a></li>
<li><a href="library/fmt.html#printraw-values"><code>print</code></a></li>
<li><a href="library/fmt.html#printlnraw-values"><code>println</code></a></li>
</ul>
<h2 id="formatraw-values"><a class="header" href="#formatraw-values"><code>format(raw, values+)</code></a></h2>
<p><code>format</code> returns the format string <code>raw</code>, where each substring of the form &quot;{}&quot; has been replaced by the corresponding value given in the arguments.</p>
<pre><code class="language-js">name := &quot;Nobu&quot;
format(&quot;Hello, {}!&quot;, name) // &quot;Hello, Nobu!&quot;
</code></pre>
<h2 id="printraw-values"><a class="header" href="#printraw-values"><code>print(raw, values+)</code></a></h2>
<p><code>print</code> prints the result of <code>format(raw, values+)</code> to the standard output stream.</p>
<pre><code class="language-js">// Don't be confused with built-in function `print`!
fmt.print(&quot;Hello, {}!&quot;, &quot;Nobu&quot;) // Hello, Nobu!
</code></pre>
<h2 id="printlnraw-values"><a class="header" href="#printlnraw-values"><code>println(raw, values+)</code></a></h2>
<p><code>println</code> prints the result of <code>format(raw, values+)</code> to the standard output stream with a newline.</p>
<pre><code class="language-js">// Don't be confused with built-in function `println`!
fmt.println(&quot;Hello, {}!&quot;, &quot;Nobu&quot;) // Hello, Nobu!\n
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="fs"><a class="header" href="#fs"><code>fs</code></a></h1>
<p><code>fs</code> module offers filesystem APIs to Feo programs.</p>
<p>Some functions in <code>fs</code> are implemented in both synchronous and asynchronous variants.
Sync variants of functions block, and return the value immediately for ease of use.
For better performance, we can pass a callback to the function to invoke its asynchronous variant.
In that case, the function will not block. Instead, the callback will be called some time later with the return value.</p>
<ul>
<li><a href="library/fs.html#read_buf_size"><code>read_buf_size</code></a></li>
<li><a href="library/fs.html#sync_read_filepath"><code>sync_read_file</code></a></li>
<li><a href="library/fs.html#async_read_filepath-fn"><code>async_read_file</code></a></li>
<li><a href="library/fs.html#write_filepath-file-flag"><code>write_file</code></a></li>
<li><a href="library/fs.html#list_filespath"><code>list_files</code></a></li>
</ul>
<h2 id="read_buf_size"><a class="header" href="#read_buf_size"><code>read_buf_size</code></a></h2>
<p><code>read_buf_size</code> is the size of the buffer used to read a file in streaming file-read operations in <code>fs</code> module.
This may be changed to alter the behavior of <code>fs</code>, but it will affect the behavior of libfs globally in your program.</p>
<pre><code class="language-js">read_buf_size := 4096
</code></pre>
<h2 id="sync_read_filepath"><a class="header" href="#sync_read_filepath"><code>sync_read_file(path)</code></a></h2>
<p><code>sync_read_file</code> reads the entire contents of a file at <code>path</code> and returns the file contents as a string if successful or throw an error.</p>
<pre><code class="language-js">content := unsafe sync_read_file(&quot;./test.txt&quot;)
</code></pre>
<h2 id="async_read_filepath-fn"><a class="header" href="#async_read_filepath-fn"><code>async_read_file(path, fn)</code></a></h2>
<p><code>async_read_file</code> reads the entire contents of a file at <code>path</code> and returns the file contents as a string to <code>fn</code> if successful or <code>null</code> on an error.</p>
<pre><code class="language-js">async_read_file(&quot;./test.txt&quot;, func(content) {
    println(content)
})
</code></pre>
<h2 id="write_filepath-file-flag"><a class="header" href="#write_filepath-file-flag"><code>write_file(path, file, flag)</code></a></h2>
<p><code>write_file</code> writes data in <code>file</code> to a file at <code>path</code> and returns <code>true</code> on success and throws an error on error.
<code>flag</code> can control the behavior of <code>write_file</code>. Possible options for <code>flag</code> are <code>:append</code> and <code>:truncate</code>.</p>
<pre><code class="language-js">result := unsafe write_file(&quot;./test.txt&quot;, &quot;Hello, world!&quot;, :append)
</code></pre>
<h2 id="list_filespath"><a class="header" href="#list_filespath"><code>list_files(path)</code></a></h2>
<p><code>list_files</code> returns a list of files and directories in a directory at <code>path</code>.
If the directory does not exist or is not a directory, or if the read failed, it throws an error.</p>
<pre><code class="language-js">files := unsafe list_files(&quot;./&quot;)
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="json"><a class="header" href="#json"><code>json</code></a></h1>
<p><code>json</code> module implements a JSON parser and serializer for Feo values.</p>
<ul>
<li><a href="library/json.html#escape_charc"><code>escape_char</code></a></li>
<li><a href="library/json.html#escapes"><code>escape</code></a></li>
<li><a href="library/json.html#serializec"><code>serialize</code></a></li>
<li><a href="library/json.html#parses"><code>parse</code></a></li>
</ul>
<h2 id="escape_charc"><a class="header" href="#escape_charc"><code>escape_char(c)</code></a></h2>
<p>string escape '&quot;'</p>
<pre><code class="language-js">escape_char(&quot;   &quot;) // &quot;\\t&quot;
</code></pre>
<h2 id="escapes"><a class="header" href="#escapes"><code>escape(s)</code></a></h2>
<p>escapes whole string</p>
<pre><code class="language-js">escape(&quot;Hello\nWorld&quot;) // &quot;Hello\\nWorld&quot;
</code></pre>
<h2 id="serializec"><a class="header" href="#serializec"><code>serialize(c)</code></a></h2>
<p><code>serialize</code> takes a Feo value and returns its JSON representation.</p>
<pre><code class="language-js">obj := {
    name: &quot;nobu&quot;,
    email: &quot;nobu.bichanna@gmail.com&quot;,
    cool?: true,
    siblings: 1
}
serialize(obj)
/*
    {
        &quot;name&quot;: &quot;nobu&quot;,
        &quot;email&quot;: &quot;nobu.bichanna@gmail.com&quot;,
        &quot;is_cool&quot;: true,
        &quot;siblings&quot;: 1
    }
*/
</code></pre>
<h2 id="parses"><a class="header" href="#parses"><code>parse(s)</code></a></h2>
<p><code>parse</code> takes a potentially valid JSON string, and returns its Feo representation if valid JSON, or throws an error if the parse fails.</p>
<pre><code class="language-js">parse(&quot;{\&quot;name\&quot;: \&quot;nobu\&quot;, \&quot;is_cool\&quot;: true}&quot;)
/*
    {
        name: &quot;nobu&quot;,
        is_cool: true
    }
*/
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="random"><a class="header" href="#random"><code>random</code></a></h1>
<p><code>random</code> module implements pseudo-random number generators for various distributions.</p>
<p>Almost all module functions depend on the basic function <a href="library/random.html#random"><code>random</code></a>, which generates a random float uniformly in the half-open range <code>0.0 &lt;= x &lt; 1.0</code>.</p>
<p><em>Warning</em>: The pseudo-random generators of this module should not be used for security purposes.</p>
<ul>
<li><a href="library/random.html#random"><code>random</code></a></li>
<li><a href="library/random.html#random_rangestart-stop-step"><code>random_range</code></a></li>
<li><a href="library/random.html#choicexs"><code>choice</code></a></li>
<li><a href="library/random.html#shufflexs"><code>shuffle</code></a></li>
</ul>
<h2 id="random-1"><a class="header" href="#random-1"><code>random()</code></a></h2>
<p><code>random</code> returns the next random floating point number in the range <code>0.0 &lt;= x &lt; 1.0</code>.</p>
<pre><code class="language-js">random() // 0.09731976238249829
</code></pre>
<h2 id="random_rangestart-end-step"><a class="header" href="#random_rangestart-end-step"><code>random_range(start, end, step)</code></a></h2>
<p><code>random_range</code>returns a randomly selected element from <a href="library/./std.html#rangestart-end-step"><code>range(start, end, step)</code></a>.</p>
<pre><code class="language-js">random_range(2, 10, 2) // 6
</code></pre>
<h2 id="choicexs"><a class="header" href="#choicexs"><code>choice(xs)</code></a></h2>
<p><code>choice</code> returns a random element from the non-empty list <code>xs</code>.</p>
<pre><code class="language-js">choice([&quot;Nobu&quot;, &quot;Sol&quot;, &quot;Thomas&quot;, &quot;Damian&quot;]) // &quot;Sol&quot;
</code></pre>
<h2 id="shufflexs"><a class="header" href="#shufflexs"><code>shuffle(xs)</code></a></h2>
<p><code>shuffle</code> shuffles a sequence <code>xs</code> and returns a new shuffled list.</p>
<pre><code class="language-js">shuffle([&quot;Nobu&quot;, &quot;Sol&quot;, &quot;Thomas&quot;, &quot;Damian&quot;]) // [&quot;Thomas&quot;, &quot;Damian&quot;, &quot;Sol&quot;, &quot;Nobu&quot;]
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="testing-1"><a class="header" href="#testing-1"><code>Testing</code></a></h1>
<p><code>testing</code> is a testing library for Feo, and it provides a set of tools for constructing tests.</p>
<ul>
<li><a href="library/testing.html#runtest_obj"><code>run</code></a></li>
<li><a href="library/testing.html#assert_equala-b"><code>assert_equal</code></a></li>
<li><a href="library/testing.html#assert_not_equala-b"><code>assert_not_equal</code></a></li>
<li><a href="library/testing.html#assert_truex"><code>assert_true</code></a></li>
<li><a href="library/testing.html#assert_falsex"><code>assert_false</code></a></li>
<li><a href="library/testing.html#assert_nullx"><code>assert_null</code></a></li>
<li><a href="library/testing.html#assert_not_nullx"><code>assert_not_null</code></a></li>
<li><a href="library/testing.html#assert_containsa-b"><code>assert_contains</code></a></li>
<li><a href="library/testing.html#assert_not_containa-b"><code>assert_not_contain</code></a></li>
<li><a href="library/testing.html#assert_errora-t-msg"><code>assert_error</code></a></li>
</ul>
<h2 id="runtest_obj"><a class="header" href="#runtest_obj"><code>run(test_obj)</code></a></h2>
<p><code>run</code> tests the given <code>test_obj</code> object.</p>
<p>The <code>test_obj</code> is an object that looks like this:</p>
<pre><code class="language-js">{
    // The title of the test suite
    title: &quot;The title of this particular test suite&quot;,
    // The function that is executed once before all tests and returns
    // an object that is passed to all tests as an argument
    setup: func() {
        { name: &quot;Nobu&quot; }
    }
    // The function that is executed once after all tests are run
    cleanup: func(t) { // t is an object that is created in the setup function
        // clean up something
    }
    // A list of smaller test chunks
    tests: [
        {
            // The title of this small test chunk
            name: &quot;The name of this test&quot;,
            // The function that tests something
            test: func(t) {
                // test something
            }
        }
    ]
}
</code></pre>
<h2 id="assert_equala-b"><a class="header" href="#assert_equala-b"><code>assert_equal(a, b)</code></a></h2>
<p><code>assert_equal</code> tests that <code>a</code> and <code>b</code> are equal. If the values do not compare equal, the test will fail.</p>
<pre><code class="language-js">assert_equal(&quot;abc&quot;, &quot;abc&quot;) // checks that &quot;abc&quot; == &quot;abc&quot;
</code></pre>
<h2 id="assert_not_equala-b"><a class="header" href="#assert_not_equala-b"><code>assert_not_equal(a, b)</code></a></h2>
<p><code>assert_not_equal</code> tests that <code>a</code> and <code>b</code> are not equal. If the values do compare equal, the test will fail.</p>
<pre><code class="language-js">assert_not_equal(&quot;abc&quot;, &quot;ABC&quot;) // checks that &quot;abc&quot; != &quot;ABC&quot;
</code></pre>
<h2 id="assert_truex"><a class="header" href="#assert_truex"><code>assert_true(x)</code></a></h2>
<p><code>assert_true</code> tests that <code>x</code> is <code>true</code>.</p>
<pre><code class="language-js">assert_true(some_func()) // checks that some_func() == true
</code></pre>
<h2 id="assert_falsex"><a class="header" href="#assert_falsex"><code>assert_false(x)</code></a></h2>
<p><code>assert_false</code> tests that <code>x</code> is <code>false</code>.</p>
<pre><code class="language-js">assert_false(some_func()) // checks that some_func() == false
</code></pre>
<h2 id="assert_nullx"><a class="header" href="#assert_nullx"><code>assert_null(x)</code></a></h2>
<p><code>assert_null</code> tests that <code>x</code> is <code>null</code>.</p>
<pre><code class="language-js">assert_null(some_func()) // checks that some_func() == null
</code></pre>
<h2 id="assert_not_nullx"><a class="header" href="#assert_not_nullx"><code>assert_not_null(x)</code></a></h2>
<pre><code class="language-js">assert_not_null(some_func()) // checks that some_func() != null
</code></pre>
<h2 id="assert_containsa-b"><a class="header" href="#assert_containsa-b"><code>assert_contains(a, b)</code></a></h2>
<pre><code class="language-js">assert_contains([&quot;a&quot;, &quot;b&quot;, &quot;c&quot;], &quot;c&quot;) // checks if [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;] contains &quot;c&quot;
</code></pre>
<h2 id="assert_not_containa-b"><a class="header" href="#assert_not_containa-b"><code>assert_not_contain(a, b)</code></a></h2>
<pre><code class="language-js">assert_not_contain(
    [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;],
    &quot;d&quot;
) // checks if [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;] doesn't contains &quot;d&quot;
</code></pre>
<h2 id="assert_errora-t-msg"><a class="header" href="#assert_errora-t-msg"><code>assert_error(a, t, msg)</code></a></h2>
<pre><code class="language-js">assert_error(
    some_func(),
    :error_type,
    &quot;error message&quot;
) // checks if unsafe some_func() == error(:error_type, &quot;error_message&quot;)
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="experimental-features"><a class="header" href="#experimental-features">Experimental Features</a></h1>
<p>In the following chapters, we'll introduce unimplemented features of Feo.</p>
<p>Since Feo is still a work in progress, some features are not yet implemented, for it's not sure if the idea is reasonable.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="try-expression"><a class="header" href="#try-expression"><code>try</code> Expression</a></h1>
<p>In Feo, this is how you would typically handle runtime exceptions:</p>
<pre><code class="language-js">result := unsafe some_func(&quot;abc&quot;)
match error?(result) {
    true -&gt; {
        // error handling
    },
    false -&gt; {
        // do something with the result
    }
}
</code></pre>
<p>It's quite tedious to write all of that code. That's when <code>try</code> expression comes in handy.</p>
<p>The code above can be rewritten with a <code>try</code> expression like this:</p>
<pre><code class="language-js">result := unsafe some_func(&quot;abc&quot;)
try result {
    // error handling
} else {
    // do something with the result
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="references"><a class="header" href="#references">References</a></h1>
<p>A reference is a name that refers to the specific location in memory of a value.
References take the form of variables and attributes.</p>
<pre><code class="language-js">{println: fprintln} := import(&quot;fmt&quot;)

func swap(a, b) {
    tmp := deref a // *a in C
    a &lt;- deref b
    b &lt;- tmp
}

a := 1
b := 2
swap(ref a, ref b) // swap(&amp;a, &amp;b) in C

fprintln(&quot;a = {} and b = {}&quot;) // &quot;a = 2 and b = 1&quot;
</code></pre>
<p>Keywords introduced in the snippet above are <code>ref</code>, <code>deref</code>, and <code>&lt;-</code>:</p>
<ul>
<li><code>ref</code> returns the reference of the expression.</li>
<li><code>deref</code> returns the value of the reference.</li>
<li><code>&lt;-</code> assigns a value (not a reference) to the address the reference is referring to.</li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->

        <script>
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>

    </div>
    </body>
</html>
